<!DOCTYPE html>
<html>

<head>
    <title>XSS Vulnerability Demo</title>
</head>

<body>

    <h1>Manipulating Content with innerHTML and textContent</h1>

    <div id="container"></div>

    <script>
        // Get the container element
        const container = document.getElementById('container');

        // =============================================
        // Demonstrating innerHTML (Vulnerable to XSS)
        // =============================================

        // User-provided input (simulated) - THIS IS WHERE THE ATTACKER INJECTS CODE
        let userInput = "<img src='x' onerror='alert(\"XSS Attack!\")'>";

        // Vulnerable code: Directly inserting user input into innerHTML
        container.innerHTML = userInput;

        // Explanation:
        // The `innerHTML` property sets the HTML content of an element.
        // By inserting unsanitized user input, we allow an attacker to inject
        // malicious JavaScript code, like the `onerror` handler in the example above.
        // This code will execute when the image fails to load, popping up an alert box.

        // =============================================
        // Demonstrating textContent (Safe)
        // =============================================

        // User-provided input (simulated)
        userInput = "<img src='x' onerror='alert(\"This won't execute!\")'>";

        // Safe code: Using textContent to prevent XSS
        container.textContent = userInput;

    // Explanation:
    // The `textContent` property sets the text content of an element.
    // It treats the input as plain text, preventing any HTML or JavaScript
    // from being executed. This effectively neutralizes the XSS attack.
    </script>

</body>

</html>